{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/qiongxiao/Documents/my/projects/library/src/pages/Login/index.js\";\nimport React from \"react\";\nimport { Form, Card, Button, Input, message } from \"antd\";\nimport { ToLogin, SignIn } from '../../api';\nimport \"./index.css\";\nconst layout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onFinish = values => {\n      ToLogin(values).then(res => {\n        console.log(res);\n\n        if (res.data.code === 0) {\n          window.localStorage.userId = res.data.userData.userId;\n        }\n      });\n    };\n\n    this.onFinishFailed = () => {\n      message.error('登录失败');\n    };\n\n    this.toggleLogin = () => {\n      this.setState({\n        isLogin: !this.state.isLogin\n      });\n    };\n\n    this.login = () => {};\n\n    this.state = {\n      isLogin: true\n    };\n  } // 提交表单且数据验证成功后回调事件\n\n\n  render() {\n    const {\n      isLogin\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-box\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        title: \"\\u767B\\u9646\\u9875\\u9762\",\n        extra: /*#__PURE__*/_jsxDEV(Button, {\n          href: \"#\",\n          style: {\n            display: isLogin ? \"none\" : \"block\"\n          },\n          onClick: this.toggleLogin,\n          children: \"\\u8FD4\\u56DE\\u767B\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 18\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(Form, { ...layout,\n          name: \"basic\",\n          initialValues: {\n            remember: true\n          },\n          onFinish: this.onFinish,\n          onFinishFailed: this.onFinishFailed,\n          children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"\\u8D26\\u53F7\",\n            name: \"userId\",\n            rules: [{\n              required: true,\n              message: \"请输入账号\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"\\u5BC6\\u7801\",\n            name: \"password\",\n            rules: [{\n              required: true,\n              message: \"请输入密码\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), !isLogin && /*#__PURE__*/_jsxDEV(Form.Item, {\n            label: \"\\u786E\\u8BA4\\u5BC6\\u7801\",\n            name: \"checkPassword\",\n            rules: [{\n              required: true,\n              message: \"请确认密码\"\n            }],\n            children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            onClick: this.login,\n            children: \"\\u767B\\u9646\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            htmlType: \"submit\",\n            onClick: this.toggleLogin,\n            children: \"\\u6CE8\\u518C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/qiongxiao/Documents/my/projects/library/src/pages/Login/index.js"],"names":["React","Form","Card","Button","Input","message","ToLogin","SignIn","layout","labelCol","span","wrapperCol","tailLayout","offset","Login","Component","constructor","props","onFinish","values","then","res","console","log","data","code","window","localStorage","userId","userData","onFinishFailed","error","toggleLogin","setState","isLogin","state","login","render","display","remember","required"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form, Card, Button, Input,message } from \"antd\";\nimport { ToLogin, SignIn } from '../../api'\nimport \"./index.css\";\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: true,\n    };\n  }\n  // 提交表单且数据验证成功后回调事件\n  onFinish = (values) => {\n    ToLogin(values).then(res => {\n      console.log(res)\n      if(res.data.code === 0){\n        window.localStorage.userId = res.data.userData.userId;\n      }\n    })\n  };\n  // 提交表单且数据验证失败后回调事件\n  onFinishFailed = () => {\n    message.error('登录失败');\n  };\n\n  toggleLogin = () => {\n    this.setState({\n      isLogin: !this.state.isLogin,\n    })\n  };\n\n  login=()=>{\n    \n  }\n\n  render() {\n    const { isLogin } = this.state;\n    return (\n      <div className=\"login-box\">\n        <Card\n          title=\"登陆页面\"\n          extra={<Button href=\"#\" style={{ display: isLogin ? \"none\" : \"block\" }} onClick={this.toggleLogin}>返回登录</Button>}\n        >\n          <Form\n            {...layout}\n            name=\"basic\"\n            initialValues={{\n              remember: true,\n            }}\n            onFinish={this.onFinish}\n            onFinishFailed={this.onFinishFailed}\n          >\n            <Form.Item\n              label=\"账号\"\n              name=\"userId\"\n              rules={[\n                {\n                  required: true,\n                  message: \"请输入账号\",\n                },\n              ]}\n            >\n              <Input />\n            </Form.Item>\n\n            <Form.Item\n              label=\"密码\"\n              name=\"password\"\n              rules={[\n                {\n                  required: true,\n                  message: \"请输入密码\",\n                },\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n            {\n              !isLogin && (\n                <Form.Item\n                  label=\"确认密码\"\n                  name=\"checkPassword\"\n                  rules={[\n                    {\n                      required: true,\n                      message: \"请确认密码\",\n                    },\n                  ]}\n                >\n                  <Input.Password />\n                </Form.Item>\n              )\n            }\n            <Button type=\"primary\" htmlType=\"submit\" onClick={this.login}>\n              登陆\n              </Button>&nbsp;&nbsp;&nbsp;&nbsp;\n                <Button type=\"primary\" htmlType=\"submit\" onClick={this.toggleLogin}>\n              注册\n              </Button>\n          </Form>\n        </Card>\n      </div>\n    );\n  }\n};\n\n"]},"metadata":{},"sourceType":"module"}