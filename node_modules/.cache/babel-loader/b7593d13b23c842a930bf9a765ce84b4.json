{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/qiongxiao/Documents/my/projects/library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/qiongxiao/Documents/my/projects/library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/qiongxiao/Documents/my/projects/library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/qiongxiao/Documents/my/projects/library/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Carousel,Input,Row,Col,Radio,Button}from'antd';import{SearchOutlined}from'@ant-design/icons';import{GetPicList,GetBookList}from'../../api';import Banner from'../../components/Banner';import'./index.css';var contentStyle={height:'300px',width:'100%',overflow:'hidden'};var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);function Home(props){var _this;_classCallCheck(this,Home);_this=_super.call(this,props);_this.onSearch=function(value){_this.props.history.push({pathname:'/search',query:{searchValue:value}});};_this.state={pic:[],bookList:[]};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;GetPicList().then(function(res){_this2.setState({pic:res.data.data});});GetBookList(1,10).then(function(res){_this2.setState({bookList:res.data.data.slice(-5)});});}},{key:\"render\",value:function render(){var _this$state=this.state,pic=_this$state.pic,bookList=_this$state.bookList;return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(Banner,{}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-searchBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-searchBox__title\",children:\"\\u8D44\\u6E90\\u68C0\\u7D22\"}),/*#__PURE__*/_jsx(Input.Search,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u6A21\\u7CCA\\u68C0\\u7D22\\u5B57\\u6BB5\",allowClear:true,enterButton:\"\\u68C0\\u7D22\",size:\"large\",onSearch:this.onSearch,prefix:/*#__PURE__*/_jsx(SearchOutlined,{})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Radio.Group,{value:1,children:/*#__PURE__*/_jsx(Radio,{value:1,children:\"\\u5168\\u90E8\\u8D44\\u6E90\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"home-contents\",children:\"\\u6CE8\\uFF1A\\u901A\\u8FC7\\u8D44\\u6E90\\u68C0\\u7D22\\u627E\\u5230\\u5BF9\\u5E94\\u501F\\u9605\\u4E66\\u76EE\"})]})}),/*#__PURE__*/_jsx(Col,{span:12,children:/*#__PURE__*/_jsx(\"div\",{className:\"home-carousel\",children:pic.length>0&&/*#__PURE__*/_jsx(Carousel,{autoplay:true,children:pic.map(function(item){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{style:contentStyle,src:item.url,alt:\"\"})},item.id);})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"home-newBooks\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-newBooks-title\",children:\"\\u65B0\\u4E66\\u901F\\u89C8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"home-newBooks-box\",children:bookList.length>0&&bookList.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"home-newBooks-item\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,alt:\"\"}),/*#__PURE__*/_jsx(\"div\",{children:item.bookName})]},item.id);})})]})]});}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["/Users/qiongxiao/Documents/my/projects/library/src/pages/Home/index.js"],"names":["React","Carousel","Input","Row","Col","Radio","Button","SearchOutlined","GetPicList","GetBookList","Banner","contentStyle","height","width","overflow","Home","props","onSearch","value","history","push","pathname","query","searchValue","state","pic","bookList","then","res","setState","data","slice","length","map","item","url","id","img","bookName","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Carousel, Input, Row, Col, Radio, Button } from 'antd';\nimport { SearchOutlined } from '@ant-design/icons';\nimport { GetPicList, GetBookList } from '../../api'\nimport Banner from '../../components/Banner';\nimport './index.css';\n\nconst contentStyle = {\n  height: '300px',\n  width: '100%',\n  overflow: 'hidden'\n};\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pic: [],\n      bookList: [],\n    };\n  }\n\n  componentDidMount() {\n    GetPicList().then(res => {\n      this.setState({\n        pic: res.data.data,\n      })\n    });\n    GetBookList(1, 10).then(res => {\n      this.setState({\n        bookList: res.data.data.slice(-5),\n      })\n    });\n  };\n\n  onSearch = value => {\n    this.props.history.push({ pathname: '/search', query: { searchValue: value } });\n  };\n\n  render() {\n    const { pic, bookList } = this.state;\n    return (\n      <div className=\"home\">\n        <Banner />\n        <Row>\n          <Col span={12}>\n            <div className=\"home-searchBox\">\n              <div className=\"home-searchBox__title\">资源检索</div>\n              <Input.Search\n                placeholder=\"请输入模糊检索字段\"\n                allowClear\n                enterButton=\"检索\"\n                size=\"large\"\n                onSearch={this.onSearch}\n                prefix={<SearchOutlined />}\n              />\n              <br /><br />\n              <Radio.Group value={1}>\n                <Radio value={1}>全部资源</Radio>\n              </Radio.Group>\n              <br /><br />\n              <div className=\"home-contents\">注：通过资源检索找到对应借阅书目</div>\n            </div>\n          </Col>\n          <Col span={12}>\n            <div className=\"home-carousel\">\n              {\n                pic.length > 0 &&\n                <Carousel autoplay>\n                  {\n                    pic.map(item => {\n                      return <div key={item.id}><img style={contentStyle} src={item.url} alt='' /></div>\n                    })\n                  }\n                </Carousel>\n              }\n            </div>\n          </Col>\n        </Row>\n        <div className=\"home-newBooks\">\n          <div className=\"home-newBooks-title\">新书速览</div>\n          <div className=\"home-newBooks-box\">\n            {\n              bookList.length > 0 && bookList.map(item => {\n                return (\n                  <div className=\"home-newBooks-item\" key={item.id}>\n                    <img src={item.img} alt=\"\" />\n                    <div>{item.bookName}</div>\n                  </div>)\n              })\n            }\n          </div>\n        </div>\n      </div>\n    )\n  };\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}