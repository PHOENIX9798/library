{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/qiongxiao/Documents/my/projects/library/src/pages/Login/index.js\";\nimport React from \"react\";\nimport { Form, Card, Button, Input, message } from \"antd\";\nimport { ToLogin, SignIn } from '../../api';\nimport Banner from '../../components/Banner';\nimport \"./index.css\";\nconst layout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onFinish = values => {\n      ToLogin(values).then(res => {\n        console.log(res);\n\n        if (res.data.userData.id) {\n          window.localStorage.userId = res.data.userData.userId;\n        } else {\n          message.error(res.data.userData.msg);\n        }\n      });\n    };\n\n    this.onFinishFailed = () => {\n      message.error('登录失败');\n    };\n\n    this.toggleLogin = () => {\n      this.setState({\n        isLogin: !this.state.isLogin\n      });\n    };\n\n    this.login = () => {};\n\n    this.state = {\n      isLogin: true\n    };\n  } // 提交表单且数据验证成功后回调事件\n\n\n  render() {\n    const {\n      isLogin\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home\",\n      children: [/*#__PURE__*/_jsxDEV(Banner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-box\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\u767B\\u9646\\u9875\\u9762\",\n          extra: /*#__PURE__*/_jsxDEV(Button, {\n            href: \"#\",\n            style: {\n              display: isLogin ? \"none\" : \"block\"\n            },\n            onClick: this.toggleLogin,\n            children: \"\\u8FD4\\u56DE\\u767B\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 20\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Form, { ...layout,\n            name: \"basic\",\n            initialValues: {\n              remember: true\n            },\n            onFinish: this.onFinish,\n            onFinishFailed: this.onFinishFailed,\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u8D26\\u53F7\",\n              name: \"userId\",\n              rules: [{\n                required: true,\n                message: \"请输入账号\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u5BC6\\u7801\",\n              name: \"password\",\n              rules: [{\n                required: true,\n                message: \"请输入密码\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), !isLogin && /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u786E\\u8BA4\\u5BC6\\u7801\",\n              name: \"checkPassword\",\n              rules: [{\n                required: true,\n                message: \"请确认密码\"\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input.Password, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              onClick: this.login,\n              children: \"\\u767B\\u9646\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              onClick: this.toggleLogin,\n              children: \"\\u6CE8\\u518C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/qiongxiao/Documents/my/projects/library/src/pages/Login/index.js"],"names":["React","Form","Card","Button","Input","message","ToLogin","SignIn","Banner","layout","labelCol","span","wrapperCol","tailLayout","offset","Login","Component","constructor","props","onFinish","values","then","res","console","log","data","userData","id","window","localStorage","userId","error","msg","onFinishFailed","toggleLogin","setState","isLogin","state","login","render","display","remember","required"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Form, Card, Button, Input, message } from \"antd\";\nimport { ToLogin, SignIn } from '../../api'\nimport Banner from '../../components/Banner';\nimport \"./index.css\";\n\nconst layout = {\n  labelCol: {\n    span: 6,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nexport default class Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogin: true,\n    };\n  }\n  // 提交表单且数据验证成功后回调事件\n  onFinish = (values) => {\n    ToLogin(values).then(res => {\n      console.log(res)\n      if (res.data.userData.id) {\n        window.localStorage.userId = res.data.userData.userId;\n      } else {\n        message.error(res.data.userData.msg);\n      }\n    })\n  };\n  // 提交表单且数据验证失败后回调事件\n  onFinishFailed = () => {\n    message.error('登录失败');\n  };\n\n  toggleLogin = () => {\n    this.setState({\n      isLogin: !this.state.isLogin,\n    })\n  };\n\n  login = () => {\n\n  }\n\n  render() {\n    const { isLogin } = this.state;\n    return (\n      <div className=\"home\">\n        <Banner />\n        <div className=\"login-box\">\n          <Card\n            title=\"登陆页面\"\n            extra={<Button href=\"#\" style={{ display: isLogin ? \"none\" : \"block\" }} onClick={this.toggleLogin}>返回登录</Button>}\n          >\n            <Form\n              {...layout}\n              name=\"basic\"\n              initialValues={{\n                remember: true,\n              }}\n              onFinish={this.onFinish}\n              onFinishFailed={this.onFinishFailed}\n            >\n              <Form.Item\n                label=\"账号\"\n                name=\"userId\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"请输入账号\",\n                  },\n                ]}\n              >\n                <Input />\n              </Form.Item>\n\n              <Form.Item\n                label=\"密码\"\n                name=\"password\"\n                rules={[\n                  {\n                    required: true,\n                    message: \"请输入密码\",\n                  },\n                ]}\n              >\n                <Input.Password />\n              </Form.Item>\n              {\n                !isLogin && (\n                  <Form.Item\n                    label=\"确认密码\"\n                    name=\"checkPassword\"\n                    rules={[\n                      {\n                        required: true,\n                        message: \"请确认密码\",\n                      },\n                    ]}\n                  >\n                    <Input.Password />\n                  </Form.Item>\n                )\n              }\n              <Button type=\"primary\" htmlType=\"submit\" onClick={this.login}>\n                登陆\n              </Button>&nbsp;&nbsp;&nbsp;&nbsp;\n                <Button type=\"primary\" htmlType=\"submit\" onClick={this.toggleLogin}>\n                注册\n              </Button>\n            </Form>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n};\n\n"]},"metadata":{},"sourceType":"module"}